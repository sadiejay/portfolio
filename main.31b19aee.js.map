{"version":3,"sources":["js/main.js"],"names":["toggle","document","querySelector","menu","menuItems","querySelectorAll","getUserPreference","localStorage","getItem","saveUserPreference","userPreference","setItem","getAppliedMode","matchMedia","matches","addEventListener","classList","contains","setAttribute","remove","add","colorScheme","setAppliedMode","mode","body","className","content","rotatePreferences","themeToggler","onclick","newUserPref"],"mappings":";AAAA,IAAIA,EAASC,SAASC,cAAc,WAChCC,EAAOF,SAASC,cAAc,aAC9BE,EAAYH,SAASI,iBAAiB,kBAc1C,SAASC,IACAC,OAAAA,aAAaC,QAAQ,UAAY,SAE1C,SAASC,EAAmBC,GAC1BH,aAAaI,QAAQ,QAASD,GAGhC,SAASE,EAAeF,GAClBA,MAAmB,UAAnBA,EACK,QAEc,SAAnBA,EACK,OAGLG,WAAW,iCAAiCC,QACvC,QAEF,OA9BTd,EAAOe,iBAAiB,QAAS,WAC3BZ,EAAKa,UAAUC,SAAS,cACrBC,KAAAA,aAAa,gBAAiB,SACnCf,EAAKa,UAAUG,OAAO,eAEtBhB,EAAKa,UAAUI,IAAI,aACdF,KAAAA,aAAa,gBAAiB,WA2BvC,IAAMG,EAAcpB,SAASC,cAAc,6BAC3C,SAASoB,EAAeC,GACtBtB,SAASuB,KAAKC,UAAYF,EAC1BF,EAAYK,QAAUH,EAGxB,SAASI,EAAkBjB,GACrBA,MAAmB,WAAnBA,EACK,QAEc,UAAnBA,EACK,OAGA,SAOX,IAAMkB,EAAe3B,SAASC,cAAc,iBAExCQ,EAAiBJ,IACrBgB,EAAeV,EAAeF,IAG9BkB,EAAaC,QAAU,WACfC,IAAAA,EAAcH,EAAkBjB,GACtCA,EAAiBoB,EACjBrB,EAAmBqB,GAEnBR,EAAeV,EAAekB","file":"main.31b19aee.js","sourceRoot":"..","sourcesContent":["var toggle = document.querySelector('#toggle');\nvar menu = document.querySelector('.menu-nav');\nvar menuItems = document.querySelectorAll('.menu-nav li a');\n\ntoggle.addEventListener('click', function(){\n  if (menu.classList.contains('is-active')) {\n    this.setAttribute('aria-expanded', 'false');\n    menu.classList.remove('is-active');\n  } else {\n    menu.classList.add('is-active');\n    this.setAttribute('aria-expanded', 'true');\n    //menuItems[0].focus();\n  }\n});\n\n// theme-toggle\nfunction getUserPreference() {\n  return localStorage.getItem('theme') || 'system';\n}\nfunction saveUserPreference(userPreference) {\n  localStorage.setItem('theme', userPreference);\n}\n\nfunction getAppliedMode(userPreference) {\n  if (userPreference === 'light') {\n    return 'light';\n  }\n  if (userPreference === 'dark') {\n    return 'dark';\n  }\n  // system\n  if (matchMedia('(prefers-color-scheme: light)').matches) {\n    return 'light';\n  }\n  return 'dark';\n}\n\nconst colorScheme = document.querySelector('meta[name=\"color-scheme\"]');\nfunction setAppliedMode(mode) {\n  document.body.className = mode;\n  colorScheme.content = mode;\n}\n\nfunction rotatePreferences(userPreference) {\n  if (userPreference === 'system') {\n    return 'light'\n  }\n  if (userPreference === 'light') {\n    return 'dark';\n  }\n  if (userPreference === 'dark') {\n    return 'system';\n  }\n  // for invalid values, just in case\n  return 'system';\n}\n\n// const themeDisplay = document.getElementById('mode');\nconst themeToggler = document.querySelector('.theme-toggle');\n\nlet userPreference = getUserPreference();\nsetAppliedMode(getAppliedMode(userPreference));\n// themeDisplay.innerText = userPreference;\n\nthemeToggler.onclick = () => {\n  const newUserPref = rotatePreferences(userPreference);\n  userPreference = newUserPref;\n  saveUserPreference(newUserPref);\n  // themeDisplay.innerText = newUserPref;\n  setAppliedMode(getAppliedMode(newUserPref));\n}\n"]}